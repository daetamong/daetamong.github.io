---
layout: post
title: P-value(유의확률)란?
subtitle: p-value의 정의와 해석 방법에 대해 알아보자
categories: 통계학
tags: [통계학]
---

`개인적으로 공부한 내용을 포스팅하기 때문에 잘못된 내용이 있을 수 있습니다. 만약 틀린 내용이 있다면 적극적인 피드백 부탁드립니다^^`


### p-value의 의미와 해석 방법에 대해 정리해보자

p-value는 통계학을 공부하면서, 또는 데이터 분석을 하다보면 자주 듣는 용어이다. 나도 물론 그렇지만 "p-value가 유의수즌 0.05보다 낮으니까 귀무가설을 기각하네?"라는 식의 해석만 할 뿐, 왜 이러한 해석을 하고 이러한 결론을 내리는지 정학히 알지 못한다. 그래서 이번에는 p-value가 정확히 무엇이고, 어떻게 해석하고 결론까지 내리는지 한번 정리해보려 한다.

우선, p-value에 대한 통계학적 정의를 알아보자. 우선 공부를 하다보니 두가지로 정리가 된다.

첫 번째로는,
> 'p-value(유의확률)'는 **어떤 사건이 우연히 발생할 확률(probability)**을 의미한다.

두 번째는,
> 'p-value(유의확률)'는 **귀무가설이 맞다고 가정할 때** 얻은 결과보다 더 극단적인 결과가 실제로 관측될 확률을 의미한다.

물론, 같은 개념을 다르게 설명한 것이기 때문에 결국은 의미하는 바가 같다.

하나씩 차례로 살펴보자!




### 가설검정

우선, p-value에 대해서 알아보기 전에, p-value가 어디에서 사용되는지 살펴보고 가자.

> 가설검정이란, 분석 대상에 대하여 어떤 가설을 내리고 그 가설의 합당성(유의성) 여부를 판정하는 통계적 추론 방법이다.

가설검정을 할 때 사용하는 주요 개념이 있는데, 귀무가설과 대립가설이 있다.

대립가설은 우리가 관심있어 하는 연구의 내용을 의미하고, 귀무가설은 그 대립가설을 반증하는 주장(=가설)이라고 보면 된다.
그리고 일반적인 유의성 검정(=가설검정)은 위의 두 가지 가설 중에서 귀무가설을 기본 전제로 한다. (=무죄 추정의 원칙)
다시 말해서, 귀무가설을 기각할만한 강력한 증거가 없다면, 우선은 연구 효과가 없다고 가정한다.



### 귀무가설(H0) vs 대립가설(H1)

일단, 귀무가설(H0 : null hypothesis)의 주요 주장은 **"효과가 없다, 두 그룹 간의 차이가 없다, 같다"**와 같이 유의한 효과가 없음을 주장한다.

반대로 대립가설(H1 : alternative hypothesis)은 귀무가설과 반대로 **"효과가 있다, 두 그룹 간의 차이가 있다, 다르다"**와 같이 기본적인 내용은 유의한 차이가 있다고 주장한다.

이처럼 우리는 가설검정을 통해서 대립가설, 즉 우리가 확인하고 싶은 가설의 유의성을 **귀무가설을 기각하거나 또는 채택함으로써** 판정하게 된다.

#### 간단하게 예를 들어보자
만약, 어떤 서비스의 고객 이탈률이 너무 많아져서 고객 이탈 예측 모델을 개발하기 위해 표본을 추출해서 "이탈 고객(=P1)과 잔존 고객(=P2)의 서비스 이용 로그데이터"를 비교하고자 한다.

그러면 우리는 이때 가설을 내린다. 과연 두 그룹 간에 차이가 있을까?

이 때, 귀무가설은 다음과 같을 것이다.
> $H0 : P1 = P2$ ("이탈 고객과 잔존 고객의 데이터는 같다")

반대로 대립가설은 귀무가설의 반대가 될 것이다.
> $H1 : P1 \ne P2$ ("이탈 고객과 잔존 고객의 데이터는 다르다")

그러면 이제 우리는 귀무가설을 기각할 것인지, 채택할 것인지 결정해야 한다!

하지만, 우리는 표본을 뽑아서 검증을 해야하기 때문에 항상 확률적 오류를 범할 확률을 갖고 있다. 다시 말해, 표본으로 모집단을 대표해야 하기 때문에 매번 표본을 뽑을 때마다 오차가 생긴다는 뜻이다.

여기서 우리는 두 가지 개념을 더 공부하고 넘어갈 것이다.




### 제 1종 오류, 제 2종 오류

> 제 1종 오류 : 귀무가설이 참일 때, 귀무가설을 기각할 확률 (=차이(효과)가 없는데, 있다고 하는 경우)

> 제 2종 오류 : 귀무가설이 거짓일 때, 귀무가설을 채택할 확률 (=차이(효과)가 없는데, 있다고 하는 경우)

여기서 우리는 하나 더 생각해야 할 것이 있다. 과연 차이(효과)가 있는데 없다고 하는 것이 더 위험할까? 아니면 차이(효과)가 있는데 없다고 하는 것이 더 위험할까? 물론 경우에 따라 다르겠지만

일반적으로 **차이(효과)가 없는데 있다고 하는 경우가 더 위험하다**고 간주한다.

다시 말해서, 제 1종 오류와 p-value의 비교를 통해서 귀무가설을 채택할지, 기각할지를 결정한다는 것이다.

이전에 가설검정을 해봤던 경험이 있다면 "유의확률이 유의수준 0.05 보다 작기 때문에 귀무가설을 기각한다!"라는 말을 들어봤을 것이다. 이때 유의수준이 `제 1종 오류를 범할 최대 확률`이라고 보면 되겠다.


### 정리를 하자면...?

* 그럼 위에서 정리한 내용을 합쳐보면...

> 1. p-value가 0.05(일반적인 유의수준)보다 작다는 것은 어떤 사건이 일어날 확률이 5%보다 작다는 뜻이다.
> 2. 즉, 우연히 발생할 확률이 5%보다 작다는 것은 우연성이 굉장히 낮다는 뜻이다.
> 3. 다시 말해, 우연이 아니라 필연적인 이유로 인해 사건이 발생했다는 것으로 재해석할 수 있다.
> 4. p-value가 0.05보다 작다는 것은 우연이 아닌, 어떠한 유의미한 원인으로 인해 사건이 발생한 것이다.
> 5. 따라서 유의미한 차이(효과)가 있다는 뜻이고, 결국엔 귀무가설을 기각(=대립가설을 채택)하게 되는 강력한 증거가 된다는 뜻이다.