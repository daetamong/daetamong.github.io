---
layout: post
title: MCP(Model Context Protocol)
subtitle: MCP에 대해서 알아보자!
categories: LLM
tags: [LLM]
---

`개인적으로 공부한 내용을 포스팅하기 때문에 잘못된 내용이 있을 수 있습니다. 만약 틀린 내용이 있다면 적극적인 피드백 부탁드립니다^^`


ChatGpt, Perpelxity, Claude 등 신규 LLM 모델이 계속해서 등장하면서 많은 개발자들이 LLM 모델을 업무에 적극적으로 활용하고 있다.

이전에는 RAG 방식으로 기존에 저장된 훈련데이터를 LLM 모델이 검색하면서 질문에 맞는 답변을 내놓은 방식이었다면, 이제는 LLM 모델이 외부 데이터와 지속적으로 연동하면서 실시간으로 답변을 하는 방식으로 바뀌고 있다.


이와 동시에 AI 모델을 통해 업무 지원을 해주는 **AI 에이전트**라는 서비스가 등장하면서 데이터를 실시간으로 빠르게 처리하는 기술이 요구되고 있다. 더불어 에이전틱 워크플로우 또한 빠르게 발전했다.

이러한 현상으로 **MCP**라는 기술의 대두되고 있다.

MCP는 Antropic이 2024년 11월에 공개를 했는데, 당시에는 큰 주목을 받지 못했다.

이번 포스팅과 향후 올릴 관련 포스팅에서는 **MCP**가 무엇인지, 그리고 어떻게 사용하는지 한번 알아보려고 한다.

MCP에 대해 정말 잘 정리해준 블로그가 있어서 그 블로그를 참조하며 글을 써봤다. (아래 ref 참조)


<br>
<br>

### **MCP (Model Context Protocol)**
MCP는 "대규모 언어 모델이 외부 데이터를 효율적으로 처리할 수 있도록 하는 연결 프로토콜"이라고 한다.

어느 블로그에서 MCP를 USB로 비유한 내용을 봤는데, 가장 이해하기 쉬운 내용이었던 것 같다.

말그대로 usb를 컴퓨터에 꽂음으로써 usb는 컴퓨터와 계속해서 실시간으로 연동되게 되는 것처럼 MCP 또한 LLM 모델이 외부 데이터와 지속적으로 연동되도록 하는 표준 프로토콜이라고 보면 될 것 같다.

<br>

MCP의 주요 특징을 크게 4가지로 정리해보자!

- 개방형 표준 : 오픈소스로 누구나 자유롭게 사용할 수 있다.

- 양방향 연결 : AI 모델과 데이터 간에 양방향 소통이 가능하다. MCP에서는 AI 모델과 데이터가 지속적으로 연결된 상태에서 서로 정보를 주고 받을 수 있다.

- 범용성과 표준화 : 다양한 데이터 소스를 하나의 표준화된 프로토콜로 연결할 수 있게 해준다.

- 보안 및 신뢰성 : 안전하다. 즉, 개인정보 보호와 데이터 무결성이 가능하다.


### **MCP의 핵심 구성 요소**
<img width="679" height="472" alt="Image" src="https://github.com/user-attachments/assets/fa22ed37-9893-4a09-adf2-074a5302a2fd" />

<img width="465" height="229" alt="Image" src="https://github.com/user-attachments/assets/ed048a82-4f26-4c97-aba6-e353acaeeae5" />

#### **호스트(Host)**

- 여러 클라이언트 인스턴스를 관리

- 클라이언트 연결 권한과 생명주기 제어

- AI/LLM 통합

- ex) Claude APP, IDEs 등


#### **MCP 클라이언트(MCP Clients)**

- 호스트에 의해 생성되며, 서버와의 독립적인 연결을 유지

- 프로토콜 교환 처리

- 서버 간 보안 유지

---

### **MCP 작동 방식**

1. 연결 설정

- 호스트 어플리케이션(ex. Claude)이 MCP 클라이언트를 생성

- 클라이언트는 MCP server와 연결

- 연결 과정에서 프로토콜 버전, 기능, 권한 등이 설정

> MCP 클라이언트가 응답(request)을 보내면 MCP server는 이에 따른 응답(response)을 회신하는 방식으로 연결이 이루어짐

<img width="431" height="396" alt="Image" src="https://github.com/user-attachments/assets/fe267c91-c657-4161-8827-d62d82a5f409" />

---
2. 컨텍스트 교환

- MCP server는 클라이언트에게 데이터 소스의 컨텍스트 정보를 전달

- 클라이언트는 전달 받은 정보를 호스트에게 다시 전달

- 호스트는 여러 클라이언트에게 전달 받은 정보를 집계하여 AI 모델에 제공 (여러 클라이언트와 연결 가능)

---
3. 도구 호출

- AI 모델은 작업 수행을 위해 특정한 도구를 요청

- 호스트는 이 요청을 클라이언트에 전달

- 클라이언트는 서버에 그 요청을 다시 전달

- 서버는 요청된 작업을 수행하고 결과를 클라이언트에 반환

> 1. AI 모델 -> 2. 호스트 -> 3. 클라이언트 -> 4. 서버

---
4. 결과 처리

- 클라이언트는 서버로부터 받은 결과를 호스트에 전달

- 호스트는 결과를 다시 AI모델에 전달

- AI모델은 이 정보를 바탕으로 응답

> 1. 서버 -> 2. 클라이언트 -> 3. 호스트 -> 4. AI모델

---

<br>

지금까지 MCP가 무엇이고, 어떻게 작동하는지 정리해봤다.

다음 포스팅에서는 MCP를 실제로 어떻게 사용하는지 알아보고자 한다.


<hr>
<br>

ref : https://dytis.tistory.com/112